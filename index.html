<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>SKF 5S</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="assets/skf-192.png">
  <link rel="apple-touch-icon" href="assets/skf-192.png">
  <link rel="stylesheet" href="style.css?v=7.16.0">

  <!-- Chart.js + datalabels -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
</head>
<body>
  <header class="brand">
    <img src="assets/skf-logo.png" alt="SKF" class="logo">
    <h1>SKF 5S</h1>
    <div class="actions">
      <button id="btnNew" class="btn primary">+ Nuova linea</button>
      <button id="btnExport" class="btn">Esporta</button>
      <button id="btnImport" class="btn">Importa</button>
      <button id="btnPrint" class="btn">Stampa</button>
    </div>
  </header>

  <!-- Intro 5S (immutato nei testi) -->
  <section class="intro card">
    <img class="hero" src="assets/5S.png" alt="Grafica 5S">
    <div class="intro-text">
      <h2>Cosa Ã¨ 5S</h2>
      <p>5S Ã¨ un metodo per fornire un posto di lavoro <b>sicuro, ben organizzato e pulito</b>, per fare il nostro lavoro facilmente e correttamente la prima volta.</p>
      <ul class="legend5s">
        <li><span class="pill s1">1S Selezionare</span> â€” Avere solo ciÃ² che serve, eliminare il superfluo.</li>
        <li><span class="pill s2">2S Sistemare</span> â€” Un posto per tutto e tutto al suo posto.</li>
        <li><span class="pill s3">3S Splendere</span> â€” Pulire e rimuovere le cause dello sporco.</li>
        <li><span class="pill s4">4S Standardizzare</span> â€” Regole e segnali visivi chiari.</li>
        <li><span class="pill s5">5S Sostenere</span> â€” Disciplina, abitudine e miglioramento continuo.</li>
      </ul>
    </div>
  </section>

  <!-- FILTRI -->
  <section class="controls card">
    <input id="q" class="input" placeholder="Cerca in descrizione / note / responsabileâ€¦">
    <select id="selLine" class="input"></select>
    <div class="seg-toggle">
      <button class="btn seg active" data-seg="all">Tutti</button>
      <button class="btn seg" data-seg="rett">Rettifica</button>
      <button class="btn seg" data-seg="mont">Montaggio</button>
    </div>
    <label class="chk"><input type="checkbox" id="onlyLate"> Solo in ritardo</label>
    <button id="btnClear" class="btn">Pulisci</button>
  </section>

  <!-- KPI -->
  <section class="kpi card">
    <div class="kbox"><div class="kval" id="kLines">0</div><div class="kcap">Linee</div></div>
    <div class="kbox"><div class="kval" id="kAvg">0%</div><div class="kcap">Punteggio medio</div></div>
    <div class="kbox"><div class="kval" id="kLate">0</div><div class="kcap">Azioni in ritardo</div></div>

    <div class="chart-ctrl">
      <div class="zoom">
        <button id="zoomOut" class="btn circle">âˆ’</button>
        <button id="zoomIn"  class="btn circle">+</button>
      </div>
      <label class="chk"><input type="checkbox" id="stacked"> Stacked</label>
    </div>

    <div class="legend-mini">
      <span class="dot s1">1S</span><span class="dot s2">2S</span>
      <span class="dot s3">3S</span><span class="dot s4">4S</span>
      <span class="dot s5">5S</span><span class="dot tot">Tot</span>
    </div>

    <canvas id="chart" height="110"></canvas>
    <div id="chips" class="chips"></div>

    <div class="row gap">
      <button id="btnCollapseAll" class="btn">Comprimi tutto</button>
      <button id="btnExpandAll" class="btn">Espandi tutto</button>
    </div>
  </section>

  <!-- LISTA LINEE -->
  <section id="areas"></section>

  <footer class="foot">Â© SKF â€“ PWA offline Â· <span id="ver">v7.16.0</span></footer>

  <!-- Template card linea -->
  <template id="tplArea">
    <div class="area card" data-line="">
      <div class="area-hd">
        <input class="area-name input">
        <div class="badges">
          <span class="badge s1">1S 0%</span>
          <span class="badge s2">2S 0%</span>
          <span class="badge s3">3S 0%</span>
          <span class="badge s4">4S 0%</span>
          <span class="badge s5">5S 0%</span>
          <span class="badge tot">Punteggio: 0%</span>
          <span class="badge pred">Predominante: 1S 0%</span>
        </div>
      </div>

      <div class="seg-toggle compact">
        <button class="btn seg active" data-seg="rett">Rettifica</button>
        <button class="btn seg" data-seg="mont">Montaggio</button>
      </div>

      <div class="area-actions">
        <button class="btn ghost add">+ Voce</button>
        <button class="btn ghost collapse">Comprimi</button>
        <button class="btn danger del">Elimina</button>
      </div>

      <div class="items"></div>
    </div>
  </template>

  <!-- Template item -->
  <template id="tplItem">
    <div class="item">
      <button class="info" title="Mostra/nascondi descrizione">i</button>
      <div class="title"></div>
      <div class="score">
        <button class="pt" data-pt="0">0</button>
        <button class="pt" data-pt="1">1</button>
        <button class="pt" data-pt="3">3</button>
        <button class="pt" data-pt="5">5</button>
      </div>
      <div class="desc hide"></div>
      <div class="extras">
        <input class="resp input" placeholder="Responsabile">
        <div class="datebox">
          <input class="due input" type="date">
          <button class="btn cal">ðŸ“…</button>
        </div>
        <input class="note input" placeholder="Noteâ€¦">
        <button class="btn danger del-item">Elimina voce</button>
      </div>
    </div>
  </template>

  <script src="app.js?v=7.16.0"></script>
</body>
</html>
