<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>SKF 5S</title>
  <meta name="theme-color" content="#0b5bd7" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="assets/skf-192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="assets/skf-192.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- App bar -->
  <header class="appbar">
    <div class="brand">
      <img src="assets/skf-512.png" alt="SKF" width="28" height="28" />
      <span>SKF 5S</span>
      <small id="appVersion"></small>
    </div>
    <div class="tools">
      <button id="btnNewArea" class="btn primary">+ Nuova linea</button>
      <button id="btnExport" class="btn">Esporta</button>
      <label class="btn">
        Importa <input id="fileImport" type="file" accept="application/json" hidden />
      </label>
      <button id="btnPrint" class="btn">Stampa</button>
      <button id="btnTheme" class="btn icon" title="Tema">ðŸŒ“</button>
    </div>
  </header>

  <!-- Intro 5S -->
  <section class="intro card">
    <img src="assets/5s-hero.png" alt="5S" class="hero" />
    <div class="intro-text">
      <h2>Cosa Ã¨ 5S</h2>
      <p>5S Ã¨ un metodo per fornire un posto di lavoro <b>sicuro</b>, <b>ben organizzato</b> e
        <b>pulito</b>, per fare il nostro lavoro facilmente e correttamente la prima volta.</p>
      <ul class="s-legend">
        <li><span class="chip chip-1s">1S Selezionare</span> â€” Eliminare il superfluo.</li>
        <li><span class="chip chip-2s">2S Sistemare</span> â€” Un posto per tutto.</li>
        <li><span class="chip chip-3s">3S Splendere</span> â€” Pulire e rimuovere le cause.</li>
        <li><span class="chip chip-4s">4S Standardizzare</span> â€” Regole chiare e visual.</li>
        <li><span class="chip chip-5s">5S Sostenere</span> â€” Disciplina e miglioramento.</li>
      </ul>
    </div>
  </section>

  <!-- Filtri -->
  <section class="filters card">
    <div class="row">
      <div class="field">
        <span class="icon">ðŸ”Ž</span>
        <input id="q" type="search" placeholder="Cerca in descrizione / note / responsabileâ€¦" />
      </div>

      <select id="lineFilter" class="select"></select>

      <div class="seg">
        <button id="btnAll" class="seg-btn active">Tutti</button>
        <button id="btnFgr" class="seg-btn">Rettifica</button>
        <button id="btnAsm" class="seg-btn">Montaggio</button>
        <select id="sectorFilter" class="select hide-on-wide">
          <option value="ALL">Settore: Tutti</option>
          <option value="Rettifica">Rettifica</option>
          <option value="Montaggio">Montaggio</option>
        </select>
      </div>

      <label class="chk">
        <input id="onlyLate" type="checkbox" />
        <span>Solo in ritardo</span>
      </label>

      <button id="btnClearFilters" class="btn">Pulisci</button>
    </div>
  </section>

  <!-- KPI + Cruscotto -->
  <section class="card">
    <div class="kpi-row">
      <div class="kpi"><div class="kpi-title">Linee</div><div id="kpiAreas" class="kpi-val">0</div></div>
      <div class="kpi"><div class="kpi-title">Punteggio medio</div><div id="kpiScore" class="kpi-val">0%</div></div>
      <div class="kpi"><div class="kpi-title">Azioni in ritardo</div><div id="kpiLate" class="kpi-val">0</div></div>

      <div class="chart-toolbar">
        <div class="zoom">
          <button id="zoomOut" class="btn icon" title="Zoom -">âˆ’</button>
          <button id="zoomIn" class="btn icon" title="Zoom +">+</button>
        </div>
        <label class="chk">
          <input id="toggleStacked" type="checkbox" />
          <span>Stacked</span>
        </label>
      </div>
    </div>

    <!-- Grafico -->
    <div class="chart-wrap">
      <div class="chart-scroll">
        <div class="chart-inner">
          <canvas id="chartAreas"></canvas>
        </div>
      </div>
    </div>

    <!-- Bottoni linee -->
    <div id="areasList" class="areas-list"></div>

    <!-- Azioni in ritardo -->
    <div id="lateList" class="late-list" style="display:none;"></div>
  </section>

  <!-- Azioni globali schede -->
  <section class="card actions-global">
    <div class="row spread">
      <div class="left">
        <button id="btnCollapseAll" class="btn">Comprimi tutto</button>
        <button id="btnExpandAll" class="btn">Espandi tutto</button>
      </div>
    </div>
  </section>

  <!-- Schede linee -->
  <section id="areas" class="areas"></section>

  <!-- Footer -->
  <footer class="foot">
    <small>Â© SKF â€” PWA offline â€¢ <span id="appVersion"></span></small>
  </footer>

  <!-- Template: Area -->
  <template id="tplArea">
    <article class="area card">
      <header class="area-hd">
        <input class="area-line" placeholder="CH n" />
        <div class="score">
          <span class="badge blue">Punteggio: <span class="score-val">0%</span></span>
          <span class="badge outline doms" data-s="1S">1S 0%</span>
        </div>
        <div class="tabs">
          <button class="tab sec active" data-sector="Rettifica">Rettifica</button>
          <button class="tab sec" data-sector="Montaggio">Montaggio</button>
          <button class="collapse btn">Comprimi</button>
          <button class="delete-area btn danger">Elimina</button>
        </div>
      </header>

      <div class="s-scores">
        <span class="chip chip-1s">1S <b class="score-1S">0%</b></span>
        <span class="chip chip-2s">2S <b class="score-2S">0%</b></span>
        <span class="chip chip-3s">3S <b class="score-3S">0%</b></span>
        <span class="chip chip-4s">4S <b class="score-4S">0%</b></span>
        <span class="chip chip-5s">5S <b class="score-5S">0%</b></span>
      </div>

      <nav class="s-tabs">
        <button class="tab s active" data-s="1S">1S</button>
        <button class="tab s" data-s="2S">2S</button>
        <button class="tab s" data-s="3S">3S</button>
        <button class="tab s" data-s="4S">4S</button>
        <button class="tab s" data-s="5S">5S</button>
        <button class="add-item btn">+ Voce</button>
      </nav>

      <section class="panel active" data-s="1S"></section>
      <section class="panel" data-s="2S"></section>
      <section class="panel" data-s="3S"></section>
      <section class="panel" data-s="4S"></section>
      <section class="panel" data-s="5S"></section>
    </article>
  </template>

  <!-- Template: Item -->
  <template id="tplItem">
    <div class="item">
      <button class="info i-btn" title="Info">i</button>
      <div class="title">
        <input class="txt" placeholder="Titolo / attivitÃ " />
      </div>
      <div class="points-dots">
        <span class="dot" data-val="0">0</span>
        <span class="dot" data-val="1">1</span>
        <span class="dot" data-val="3">3</span>
        <span class="dot" data-val="5">5</span>
      </div>
      <div class="who">
        <input class="resp" placeholder="Responsabile" />
        <input class="due" type="date" />
      </div>
      <div class="notes">
        <input class="note" placeholder="Noteâ€¦" />
      </div>
      <button class="del btn danger">Elimina voce</button>
    </div>
    <div class="desc"></div>
  </template>

  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('sw.js'));
    }
  </script>
</body>
</html>
