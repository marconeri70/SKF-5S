<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>SKF 5S – Audit & Checklist</title>
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#005aa9">
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<header class="app-header">
  <div class="brand">
    <img src="assets/skf-logo.png" alt="SKF" class="logo">
    <h1>5S – Audit & Checklist</h1>
  </div>
  <nav class="actions">
    <button id="btnNewArea" class="btn primary">+ Area</button>
    <button id="btnExport" class="btn">Esporta</button>
    <label class="btn file">
      Importa<input id="fileImport" type="file" accept="application/json" hidden>
    </label>
    <button id="btnPrint" class="btn">PDF</button>
  </nav>
</header>

<main>
  <!-- Dashboard -->
  <section id="dashboard" class="card dash">
    <h2>Cruscotto</h2>
    <div class="kpis">
      <div class="kpi"><div class="kpi-title">Aree</div><div id="kpiAreas" class="kpi-val">0</div></div>
      <div class="kpi"><div class="kpi-title">Punteggio</div><div id="kpiScore" class="kpi-val">0%</div></div>
      <div class="kpi"><div class="kpi-title">Ritardi</div><div id="kpiLate" class="kpi-val">0</div></div>
    </div>
    <canvas id="scoreChart" width="200" height="200"></canvas>
  </section>

  <!-- Aree -->
  <section id="areas"></section>
</main>

<template id="tplArea">
  <div class="area card">
    <div class="area-head">
      <input class="area-name" placeholder="Nome area">
      <span class="score-tag">Punteggio: <span class="score-val">0%</span></span>
      <div class="area-actions">
        <button class="btn ghost add-item">+ Voce</button>
        <button class="btn ghost collapse">▼</button>
        <button class="btn danger delete-area">✖</button>
      </div>
    </div>
    <div class="tabs">
      <button data-s="1S" class="tab active">1S</button>
      <button data-s="2S" class="tab">2S</button>
      <button data-s="3S" class="tab">3S</button>
      <button data-s="4S" class="tab">4S</button>
      <button data-s="5S" class="tab">5S</button>
    </div>
    <div class="panels">
      <div class="panel active" data-s="1S"></div>
      <div class="panel" data-s="2S"></div>
      <div class="panel" data-s="3S"></div>
      <div class="panel" data-s="4S"></div>
      <div class="panel" data-s="5S"></div>
    </div>
  </div>
</template>

<template id="tplItem">
  <div class="item">
    <input type="checkbox" class="chk">
    <span class="sev-badge">OK</span>
    <input class="txt" placeholder="Descrizione…">
    <input class="resp" placeholder="Resp.">
    <input type="date" class="due">
    <input class="note" placeholder="Note…">
    <button class="btn tiny del">✖</button>
  </div>
</template>

<footer>
  <p>© SKF – Dati salvati localmente. Installabile come app.</p>
</footer>

<script src="app.js"></script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js');
  }
</script>
</body>
</html>